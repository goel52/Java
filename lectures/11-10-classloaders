CLASSLOADERS
============

Класс загружается при первом обращении к нему

Класслоадеры загружают другие классы

Стандартные класслоадеры: Bootstrap (классы JDK, написан на C), Extensions (почти не используется), System (классы из classpath)

java.lang.ClassLoader

У каждого класслоадера есть родителя (кроме Bootstrap)


CL проверяет загружал ли он класс. Если нет - он делегирует своему предку. Если последний предок не может загрузить класс, то движение
начинается в обратном направлении. Если класс в итоге не может быть загружен, кидается ClassNotFoundExcetion

Initiating - кто начал загрузку
Defining - кто совершил загрузку

public class Main {

    public void run() {

        new Person();

        // равносильно

        Main.class.getClassLoader.loadClass(Person);
    }
}


Уникальность класса определяется полным именем и defining CL

Класс может быть выгружен,когда доступных ссылок на класс и его объекты и нет ссылок на CL, загрузивший этот класс

При запросе на загрузку класса неявно начинается закгрузка всех его предков и интерфейсов
Интерфейс может быть загружен быть предком CL



